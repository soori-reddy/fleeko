"use strict";(self.webpackChunksolidapp=self.webpackChunksolidapp||[]).push([[5637],{76:(At,M,s)=>{s.d(M,{oK:()=>I,GW:()=>y,dk:()=>n});var I=(()=>{return(x=I||(I={})).Prompt="PROMPT",x.Camera="CAMERA",x.Photos="PHOTOS",I;var x})(),y=(()=>{return(x=y||(y={})).Rear="REAR",x.Front="FRONT",y;var x})(),n=(()=>{return(x=n||(n={})).Uri="uri",x.Base64="base64",x.DataUrl="dataUrl",n;var x})()},6573:(At,M,s)=>{s.d(M,{xz:()=>k,Uw:()=>$,fo:()=>X});var I=s(5861);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global&&global;var Q=(()=>{return(d=Q||(Q={})).Unimplemented="UNIMPLEMENTED",d.Unavailable="UNAVAILABLE",Q;var d})();class k extends Error{constructor(r,p){super(r),this.message=r,this.code=p}}const K=d=>{var r,p,u,h,Z;const A=d.CapacitorCustomPlatform||null,c=d.Capacitor||{},S=c.Plugins=c.Plugins||{},_=d.CapacitorPlatforms,D=(null===(r=null==_?void 0:_.currentPlatform)||void 0===r?void 0:r.getPlatform)||(()=>null!==A?A.name:(d=>{var r,p;return(null==d?void 0:d.androidBridge)?"android":(null===(p=null===(r=null==d?void 0:d.webkit)||void 0===r?void 0:r.messageHandlers)||void 0===p?void 0:p.bridge)?"ios":"web"})(d)),lt=(null===(p=null==_?void 0:_.currentPlatform)||void 0===p?void 0:p.isNativePlatform)||(()=>"web"!==D()),pt=(null===(u=null==_?void 0:_.currentPlatform)||void 0===u?void 0:u.isPluginAvailable)||(T=>{const g=H.get(T);return!(!(null==g?void 0:g.platforms.has(D()))&&!it(T))}),it=(null===(h=null==_?void 0:_.currentPlatform)||void 0===h?void 0:h.getPluginHeader)||(T=>{var g;return null===(g=c.PluginHeaders)||void 0===g?void 0:g.find(U=>U.name===T)}),H=new Map,_t=(null===(Z=null==_?void 0:_.currentPlatform)||void 0===Z?void 0:Z.registerPlugin)||((T,g={})=>{const U=H.get(T);if(U)return console.warn(`Capacitor plugin "${T}" already registered. Cannot register plugins twice.`),U.proxy;const P=D(),Y=it(T);let q;const Tt=function(){var f=(0,I.Z)(function*(){return!q&&P in g?q=q="function"==typeof g[P]?yield g[P]():g[P]:null!==A&&!q&&"web"in g&&(q=q="function"==typeof g.web?yield g.web():g.web),q});return function(){return f.apply(this,arguments)}}(),B=f=>{let v;const O=(...R)=>{const F=Tt().then(E=>{const J=((f,v)=>{var O,R;if(!Y){if(f)return null===(R=f[v])||void 0===R?void 0:R.bind(f);throw new k(`"${T}" plugin is not implemented on ${P}`,Q.Unimplemented)}{const F=null==Y?void 0:Y.methods.find(E=>v===E.name);if(F)return"promise"===F.rtype?E=>c.nativePromise(T,v.toString(),E):(E,J)=>c.nativeCallback(T,v.toString(),E,J);if(f)return null===(O=f[v])||void 0===O?void 0:O.bind(f)}})(E,f);if(J){const j=J(...R);return v=null==j?void 0:j.remove,j}throw new k(`"${T}.${f}()" is not implemented on ${P}`,Q.Unimplemented)});return"addListener"===f&&(F.remove=(0,I.Z)(function*(){return v()})),F};return O.toString=()=>`${f.toString()}() { [capacitor code] }`,Object.defineProperty(O,"name",{value:f,writable:!1,configurable:!1}),O},at=B("addListener"),ot=B("removeListener"),ft=(f,v)=>{const O=at({eventName:f},v),R=function(){var E=(0,I.Z)(function*(){const J=yield O;ot({eventName:f,callbackId:J},v)});return function(){return E.apply(this,arguments)}}(),F=new Promise(E=>O.then(()=>E({remove:R})));return F.remove=(0,I.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield R()}),F},G=new Proxy({},{get(f,v){switch(v){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return Y?ft:at;case"removeListener":return ot;default:return B(v)}}});return S[T]=G,H.set(T,{name:T,proxy:G,platforms:new Set([...Object.keys(g),...Y?[P]:[]])}),G});return c.convertFileSrc||(c.convertFileSrc=T=>T),c.getPlatform=D,c.handleError=T=>d.console.error(T),c.isNativePlatform=lt,c.isPluginAvailable=pt,c.pluginMethodNoop=(T,g,U)=>Promise.reject(`${U} does not have an implementation of "${g}".`),c.registerPlugin=_t,c.Exception=k,c.DEBUG=!!c.DEBUG,c.isLoggingEnabled=!!c.isLoggingEnabled,c.platform=c.getPlatform(),c.isNative=c.isNativePlatform(),c},C=(d=>d.Capacitor=K(d))("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}),X=C.registerPlugin;class ${constructor(r){this.listeners={},this.windowListeners={},r&&(console.warn(`Capacitor WebPlugin "${r.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=r)}addListener(r,p){var u=this;this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push(p);const Z=this.windowListeners[r];Z&&!Z.registered&&this.addWindowListener(Z);const A=function(){var S=(0,I.Z)(function*(){return u.removeListener(r,p)});return function(){return S.apply(this,arguments)}}(),c=Promise.resolve({remove:A});return Object.defineProperty(c,"remove",{value:(S=(0,I.Z)(function*(){console.warn("Using addListener() without 'await' is deprecated."),yield A()}),function(){return S.apply(this,arguments)})}),c;var S}removeAllListeners(){var r=this;return(0,I.Z)(function*(){r.listeners={};for(const p in r.windowListeners)r.removeWindowListener(r.windowListeners[p]);r.windowListeners={}})()}notifyListeners(r,p){const u=this.listeners[r];u&&u.forEach(h=>h(p))}hasListeners(r){return!!this.listeners[r].length}registerWindowListener(r,p){this.windowListeners[p]={registered:!1,windowEventName:r,pluginEventName:p,handler:u=>{this.notifyListeners(p,u)}}}unimplemented(r="not implemented"){return new C.Exception(r,Q.Unimplemented)}unavailable(r="not available"){return new C.Exception(r,Q.Unavailable)}removeListener(r,p){var u=this;return(0,I.Z)(function*(){const h=u.listeners[r];if(!h)return;const Z=h.indexOf(p);u.listeners[r].splice(Z,1),u.listeners[r].length||u.removeWindowListener(u.windowListeners[r])})()}addWindowListener(r){window.addEventListener(r.windowEventName,r.handler),r.registered=!0}removeWindowListener(r){!r||(window.removeEventListener(r.windowEventName,r.handler),r.registered=!1)}}},5637:(At,M,s)=>{s.r(M),s.d(M,{InstallationModule:()=>Ve,createTranslateLoader:()=>Lt});var I=s(9808),y=s(520),n=s(3075),x=s(3315),b=s(1062),ht=s(40),nt=s(7006),Q=s(3583),k=s(900),w=s(9291),K=s(5861),Zt=s(6573),C=s(76);const X=(0,Zt.fo)("Camera",{web:()=>s.e(3954).then(s.bind(s,1730)).then(e=>new e.CameraWeb)});var rt=s(5439),N=s(2340),$=s(4971),t=s(5e3);let d=(()=>{class e{constructor(i){this.http=i}getAll(){return this.http.get(`${N.N.apiEndpoint}/installation`)}save(i){return this.http.post(`${N.N.apiEndpoint}/installation`,i)}update(i,a){return this.http.put(`${N.N.apiEndpoint}/installation/${i}`,a)}delete(i){return this.http.delete(`${N.N.apiEndpoint}/installation/${i}`)}getMotorCapacityList(){return this.http.get(`${N.N.apiEndpoint}/metadata/motorcapacity`)}getMotorPhaseList(){return this.http.get(`${N.N.apiEndpoint}/metadata/motorphase`)}getPipeDiameterList(){return this.http.get(`${N.N.apiEndpoint}/metadata/pipediameter`)}getPipeQualityList(){return this.http.get(`${N.N.apiEndpoint}/metadata/pipequality`)}getMeterTypeList(){return this.http.get(`${N.N.apiEndpoint}/metadata/metertype`)}getUserLocationsList(){return this.http.get(`${N.N.apiEndpoint}/users/my/locations`)}getImagesList(){return this.http.get(`${N.N.apiEndpoint}/metadata/iot_images_list?additional_fields=name%2Ccapture_type%2Cis_required%2Cpermission_code%2Cdef_image`)}}return e.\u0275fac=function(i){return new(i||e)(t.LFG(y.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var r=s(7071),p=s(5094),u=s(291),h=s(722),Z=s(4763),A=s(7093),c=s(7322),S=s(7531),_=s(6856),tt=s(4107),D=s(508),et=s(408);function lt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DATE.ERROR.REQUIRED")," "))}function st(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DATE.ERROR.INVALID")," "))}function pt(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,lt,3,3,"div",8),t.YNc(2,st,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.installation_date.errors||!i.installationEditForm.controls.installation_date.errors.required)),t.xp6(1),t.Q6J("ngIf",!!i.installationEditForm.controls.installation_date.hasError("matDatepickerMin"))}}function ct(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij("",i.display_name," ")}}function it(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DIVISION.ERROR.REQUIRED")," "))}function mt(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,it,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.division.errors||!i.installationEditForm.controls.division.errors.required))}}function dt(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij("",i.display_name," ")}}function H(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.BLOCK.ERROR.REQUIRED")," "))}function ut(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,H,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.block.errors||!i.installationEditForm.controls.block.errors.required))}}function _t(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij("",i.display_name," ")}}function T(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.PANCHAYAT.ERROR.REQUIRED")," "))}function g(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,T,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.panchayat.errors||!i.installationEditForm.controls.panchayat.errors.required))}}function U(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.WARD.ERROR.REQUIRED")," "))}function P(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,U,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.ward.errors||!i.installationEditForm.controls.ward.errors.required))}}function Y(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DEVICE-SERIAL-NUMBER.ERROR.REQUIRED")," "))}function q(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DEVICE-SERIAL-NUMBER.ERROR.MIN")," "))}function Tt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DEVICE-SERIAL-NUMBER.ERROR.MAX")," "))}function gt(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Y,3,3,"div",8),t.YNc(2,q,3,3,"div",8),t.YNc(3,Tt,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.device_serial_no.errors||!i.installationEditForm.controls.device_serial_no.errors.required)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.device_serial_no.errors||!i.installationEditForm.controls.device_serial_no.errors.min)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.device_serial_no.errors||!i.installationEditForm.controls.device_serial_no.errors.max))}}function B(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij("",i.display_name," ")}}function at(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.MOTOR-CAPACITY.ERROR.REQUIRED")," "))}function ot(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,at,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.motor_capacity.errors||!i.installationEditForm.controls.motor_capacity.errors.required))}}function ft(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij("",i.display_name," ")}}function G(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.NO-PHASE.ERROR.REQUIRED")," "))}function f(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,G,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.number_of_phase.errors||!i.installationEditForm.controls.number_of_phase.errors.required))}}function v(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij("",i.display_name," ")}}function O(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.METER-TYPE.ERROR.REQUIRED")," "))}function R(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,O,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.meter_type.errors||!i.installationEditForm.controls.meter_type.errors.required))}}function F(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij("",i.display_name," ")}}function E(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.PIPE-QUALITY.ERROR.REQUIRED")," "))}function J(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,E,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.pipe_quality.errors||!i.installationEditForm.controls.pipe_quality.errors.required))}}function j(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.hij("",i.display_name," ")}}function vt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.PIPE-DIAMETER.ERROR.REQUIRED")," "))}function xt(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,vt,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.pipe_diameter.errors||!i.installationEditForm.controls.pipe_diameter.errors.required))}}function Nt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.BOREWELL-DEPTH.ERROR.REQUIRED")," "))}function Et(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.BOREWELL-DEPTH.ERROR.MIN")," "))}function Ct(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.BOREWELL-DEPTH.ERROR.MAX")," "))}function Ot(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Nt,3,3,"div",8),t.YNc(2,Et,3,3,"div",8),t.YNc(3,Ct,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.borewell_depth.errors||!i.installationEditForm.controls.borewell_depth.errors.required)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.borewell_depth.errors||!i.installationEditForm.controls.borewell_depth.errors.min)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.borewell_depth.errors||!i.installationEditForm.controls.borewell_depth.errors.max))}}function yt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.TANK-CAPACITY.ERROR.REQUIRED")," "))}function qt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.TANK-CAPACITY.ERROR.MIN")," "))}function wt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.TANK-CAPACITY.ERROR.MAX")," "))}function Rt(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,yt,3,3,"div",8),t.YNc(2,qt,3,3,"div",8),t.YNc(3,wt,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.tank_capacity.errors||!i.installationEditForm.controls.tank_capacity.errors.required)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.tank_capacity.errors||!i.installationEditForm.controls.tank_capacity.errors.min)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.tank_capacity.errors||!i.installationEditForm.controls.tank_capacity.errors.max))}}function Ft(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.NO-PIPE-BEND.ERROR.REQUIRED")," "))}function bt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.NO-PIPE-BEND.ERROR.MIN")," "))}function Qt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.NO-PIPE-BEND.ERROR.MAX")," "))}function Pt(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Ft,3,3,"div",8),t.YNc(2,bt,3,3,"div",8),t.YNc(3,Qt,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.no_of_pipe_bend.errors||!i.installationEditForm.controls.no_of_pipe_bend.errors.required)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.no_of_pipe_bend.errors||!i.installationEditForm.controls.no_of_pipe_bend.errors.min)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.no_of_pipe_bend.errors||!i.installationEditForm.controls.no_of_pipe_bend.errors.max))}}function Jt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.OPERATOR-NAME.ERROR.REQUIRED")," "))}function St(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Jt,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationEditForm.controls.operator_name.errors||!i.installationEditForm.controls.operator_name.errors.required))}}function Ut(e,o){if(1&e&&t._UZ(0,"img",35),2&e){const i=t.oxw(2).$implicit;t.Q6J("src",i.base64File,t.LSH)}}function Yt(e,o){if(1&e&&t._UZ(0,"img",36),2&e){const i=t.oxw(2).$implicit;t.s9C("src",i.def_image,t.LSH)}}function Dt(e,o){if(1&e&&(t.TgZ(0,"div",31),t.TgZ(1,"div",32),t.TgZ(2,"div",32),t.TgZ(3,"div"),t.YNc(4,Ut,1,1,"img",33),t.YNc(5,Yt,1,1,"img",34),t.qZA(),t.qZA(),t.TgZ(6,"div"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.qZA(),t.qZA()),2&e){const i=t.oxw().$implicit;t.xp6(4),t.Q6J("ngIf",i.base64File),t.xp6(1),t.Q6J("ngIf",!i.base64File),t.xp6(2),t.Oqu(t.lcZ(8,3,i.display_name))}}function Mt(e,o){if(1&e&&(t.TgZ(0,"div",29),t.YNc(1,Dt,9,5,"div",30),t.qZA()),2&e){const i=o.$implicit;t.Q6J("appPermission",i.permission_code),t.xp6(1),t.Q6J("ngIf","PHOTO"===i.capture_type)}}const kt=rt;let jt=(()=>{class e{constructor(i,a,l,m,W,V,It){this.installlationService=i,this.activatedRoute=a,this.router=l,this.snackbarService=m,this.store=W,this.translate=V,this.fb=It,this.appearanceType="outline",this.minDate=new Date,this.imagesList=[],this.base64File=null,this.imgesList=[{id:1,name:"Site",display_name:""}],this.mapdataLoaded=!0,this.markerPositions=[],this.userLocationsList=[],this.divisionsList=[],this.blocksList=[],this.villagesList=[],this.isMobile=!1,this.store.select($.D6).subscribe(z=>{this.translate.use(z.userPreference.language),this.appearanceType=z.userPreference.appearanceType}),this.isMobile=N.N.isMobileApp}ngOnInit(){L.Icon.Default.ImagePath="/assets/",this.selectedItem=JSON.parse(localStorage.getItem("selectedItem")),this.installationEditForm=this.fb.group({installation_date:new n.NI({value:kt(this.selectedItem.installation_date),disabled:!0}),device_serial_no:new n.NI(this.selectedItem.device_serial_no),division:new n.NI(Number(this.selectedItem.division)),block:new n.NI(Number(this.selectedItem.block)),panchayat:new n.NI(Number(this.selectedItem.panchayat)),ward:new n.NI(this.selectedItem.ward),operator_name:new n.NI(this.selectedItem.operator_name),motor_capacity:new n.NI(Number(this.selectedItem.motor_capacity)),number_of_phase:new n.NI(Number(this.selectedItem.number_of_phase)),meter_type:new n.NI(Number(this.selectedItem.meter_type)),pipe_quality:new n.NI(Number(this.selectedItem.pipe_quality)),pipe_diameter:new n.NI(Number(this.selectedItem.pipe_diameter)),borewell_depth:new n.NI(this.selectedItem.borewell_depth),earthing:new n.NI(Number(this.selectedItem.earthing)),tank_capacity:new n.NI(this.selectedItem.tank_capacity),no_of_pipe_bend:new n.NI(this.selectedItem.no_of_pipe_bend)}),this.latLong=[this.selectedItem.latitude,this.selectedItem.longitude],this.imagesList.push(...this.selectedItem.addldata.imagesList),this.getMotorCapacityList(),this.getMotorPhaseList(),this.getPipeDiameterList(),this.getPipeQualityList(),this.getMeterTypeList(),this.getUserLocationsList(),this.prepareMap(),this.installationEditForm.disable()}prepareMap(){let i=L.map("map").setView(this.latLong,15);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic3VicmF0MDA3IiwiYSI6ImNrYjNyMjJxYjBibnIyem55d2NhcTdzM2IifQ.-NnMzrAAlykYciP4RP9zYQ",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"your.mapbox.access.token"}).addTo(i);var a=L.icon({iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png",iconSize:[24,30],shadowSize:[18,24]});L.marker(this.latLong,{icon:a}).addTo(i)}getUserLocationsList(){this.installlationService.getUserLocationsList().subscribe({next:i=>{this.userLocationsList.push(...i),this.divisionsList=this.userLocationsList.filter(a=>3===a.location_type),this.blocksList=this.userLocationsList.filter(a=>4===a.location_type),this.villagesList=this.userLocationsList.filter(a=>5===a.location_type)},error:i=>{this.imagesList=[]}})}onDivsionChange(i){const a=i.value;this.blocksList=this.userLocationsList.filter(l=>4===l.location_type&&l.parent_id===a),this.villagesList=[],this.installationEditForm.patchValue({block:null,panchayat:null})}onBlockChange(i){const a=i.value;this.villagesList=this.userLocationsList.filter(l=>5===l.location_type&&l.parent_id===a),this.installationEditForm.patchValue({panchayat:null})}watchPosition(){let l=navigator.geolocation.watchPosition(m=>{0===m.coords.latitude&&navigator.geolocation.clearWatch(l)},m=>{},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}getImagesList(){this.installlationService.getImagesList().subscribe({next:i=>{this.imagesList.push(...i),this.allrequiredImagesAreUploded()},error:i=>{this.imagesList=[]}})}getPipeDiameterList(){this.installlationService.getPipeDiameterList().subscribe({next:i=>{this.pipeDiameterList=i},error:i=>{this.pipeDiameterList=[]}})}getMeterTypeList(){this.installlationService.getMeterTypeList().subscribe({next:i=>{this.meterTypeList=i},error:i=>{this.meterTypeList=[]}})}compareFn(i,a){return i&&a?i.id===a.id:i===a}getPipeQualityList(){this.installlationService.getPipeQualityList().subscribe({next:i=>{this.pipeQualityList=i},error:i=>{this.pipeQualityList=[]}})}getMotorPhaseList(){this.installlationService.getMotorPhaseList().subscribe({next:i=>{this.motorPhaseList=i},error:i=>{this.motorPhaseList=[]}})}getMotorCapacityList(){this.installlationService.getMotorCapacityList().subscribe({next:i=>{this.motorCapacityList=i},error:i=>{this.motorCapacityList=[]}})}saveInstallation(){let i=this.installationEditForm.getRawValue();i.installation_date&&(i.installation_date=i.installation_date.valueOf()),i.addldata={imagesList:this.imagesList},i.latitude=this.latitude,i.longitude=this.longitude,this.installlationService.save(i).subscribe({next:a=>{this.snackbarService.info(this.translate.instant("IOT.INSTALLATION.CREATE-SUCESS")),this.router.navigate(["./../"],{relativeTo:this.activatedRoute})},error:a=>this.snackbarService.warn(this.translate.instant("IOT.INSTALLATION.CREATE-ERROR"))})}getPageAction(i){"save"===i.toString()&&this.saveInstallation()}dateChangeHandler(i){let a=this.installationEditForm.value;a.installation_date=a.installation_date.valueOf()}captureCamera(i){var a=this;return(0,K.Z)(function*(){let l={source:a.isMobile?C.oK.Camera:C.oK.Photos,resultType:C.dk.Base64,quality:90,allowEditing:!1,saveToGallery:!0};const m=yield X.getPhoto(l);a.imagesList[i].base64File="data:image/png;base64,"+m.base64String,a.allrequiredImagesAreUploded()})()}delete(i){this.base64File=null,this.imagesList[i].base64File=null,this.allrequiredImagesAreUploded()}allrequiredImagesAreUploded(){if(this.imagesList&&this.imagesList.length>0)for(const i of this.imagesList)if(i.is_required&&(!i.base64File||null==i.base64File))return!1;return!0}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(d),t.Y36(w.gz),t.Y36(w.F0),t.Y36(r.o),t.Y36(p.yh),t.Y36(b.sK),t.Y36(n.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-installation-edit"]],decls:137,vars:118,consts:[[3,"title","showEditBack"],["fxLayout","column","fxLayoutGap","10px"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutGap","10px","fxLayoutAlign","flex-start",3,"formGroup"],["fxFlex","0 1 calc(33.3% - 10px)","fxFlex.lt-md","0 1 calc(50% - 10px)","fxFlex.lt-sm","100%"],[3,"appearance"],["matInput","","required","","formControlName","installation_date","autocomplete","off",3,"min","matDatepicker"],["matSuffix","",3,"for"],["picker1",""],[4,"ngIf"],["formControlName","division","required","",3,"compareWith","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","block","required","",3,"compareWith","selectionChange"],["formControlName","panchayat","required","",3,"compareWith"],["formControlName","ward","matInput","","required",""],["type","number","formControlName","device_serial_no","matInput","","required","",3,"min","max"],["formControlName","motor_capacity","required","",3,"compareWith"],["formControlName","number_of_phase","required","",3,"compareWith"],["formControlName","meter_type","required","",3,"compareWith"],["formControlName","pipe_quality","required","",3,"compareWith"],["formControlName","pipe_diameter","required","",3,"compareWith"],["formControlName","earthing","required",""],[3,"value"],["type","number","min","0","max","1999","formControlName","borewell_depth","matInput","","required",""],["type","number","min","0","max","1999","formControlName","tank_capacity","matInput","","required","",3,"min","max"],["type","number","formControlName","no_of_pipe_bend","matInput","",3,"min","max"],["formControlName","operator_name","matInput","","required",""],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","stretch","fxFlex","1 1 100%","fxLayoutGap","16px grid"],["fxFlex.lg","1 1 25","fxFlex.sm","1 1 50","fxFlex.xl","1 1 20","fxFlex.md","1 1 33.33","fxLayoutAlign","stretch","fxLayoutGap","5px",3,"appPermission",4,"ngFor","ngForOf"],["id","map"],["fxFlex.lg","1 1 25","fxFlex.sm","1 1 50","fxFlex.xl","1 1 20","fxFlex.md","1 1 33.33","fxLayoutAlign","stretch","fxLayoutGap","5px",3,"appPermission"],["fxLayout","column","fxFlexFill","","fxLayoutAlign","center center","fxLayoutGap","10px","style","border: 1px solid lightgray;padding: 1em;",4,"ngIf"],["fxLayout","column","fxFlexFill","","fxLayoutAlign","center center","fxLayoutGap","10px",2,"border","1px solid lightgray","padding","1em"],["fxLayout","column","fxLayoutGap","10px","fxLayoutAlign","center center"],["alt","img","width","100","height","100",3,"src",4,"ngIf"],["alt","img","width","120","height","120",3,"src",4,"ngIf"],["alt","img","width","100","height","100",3,"src"],["alt","img","width","120","height","120",3,"src"]],template:function(i,a){if(1&i&&(t.TgZ(0,"app-page"),t._UZ(1,"app-page-header",0),t.ALo(2,"translate"),t.TgZ(3,"app-page-body"),t.TgZ(4,"div",1),t.TgZ(5,"form",2),t.TgZ(6,"div",3),t.TgZ(7,"mat-form-field",4),t.TgZ(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",5),t._UZ(12,"mat-datepicker-toggle",6),t._UZ(13,"mat-datepicker",null,7),t.YNc(15,pt,3,2,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(16,"div",3),t.TgZ(17,"mat-form-field",4),t.TgZ(18,"mat-label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"mat-select",9),t.NdJ("selectionChange",function(m){return a.onDivsionChange(m)}),t.YNc(22,ct,2,2,"mat-option",10),t.qZA(),t.YNc(23,mt,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(24,"div",3),t.TgZ(25,"mat-form-field",4),t.TgZ(26,"mat-label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"mat-select",11),t.NdJ("selectionChange",function(m){return a.onBlockChange(m)}),t.YNc(30,dt,2,2,"mat-option",10),t.qZA(),t.YNc(31,ut,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(32,"div",3),t.TgZ(33,"mat-form-field",4),t.TgZ(34,"mat-label"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"mat-select",12),t.YNc(38,_t,2,2,"mat-option",10),t.qZA(),t.YNc(39,g,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(40,"div",3),t.TgZ(41,"mat-form-field",4),t.TgZ(42,"mat-label"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t._UZ(45,"input",13),t.YNc(46,P,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(47,"div",3),t.TgZ(48,"mat-form-field",4),t.TgZ(49,"mat-label"),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._UZ(52,"input",14),t.YNc(53,gt,4,3,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(54,"div",3),t.TgZ(55,"mat-form-field",4),t.TgZ(56,"mat-label"),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"mat-select",15),t.YNc(60,B,2,2,"mat-option",10),t.qZA(),t.YNc(61,ot,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(62,"div",3),t.TgZ(63,"mat-form-field",4),t.TgZ(64,"mat-label"),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"mat-select",16),t.YNc(68,ft,2,2,"mat-option",10),t.qZA(),t.YNc(69,f,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(70,"div",3),t.TgZ(71,"mat-form-field",4),t.TgZ(72,"mat-label"),t._uU(73),t.ALo(74,"translate"),t.qZA(),t.TgZ(75,"mat-select",17),t.YNc(76,v,2,2,"mat-option",10),t.qZA(),t.YNc(77,R,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(78,"div",3),t.TgZ(79,"mat-form-field",4),t.TgZ(80,"mat-label"),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.TgZ(83,"mat-select",18),t.YNc(84,F,2,2,"mat-option",10),t.qZA(),t.YNc(85,J,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(86,"div",3),t.TgZ(87,"mat-form-field",4),t.TgZ(88,"mat-label"),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.TgZ(91,"mat-select",19),t.YNc(92,j,2,2,"mat-option",10),t.qZA(),t.YNc(93,xt,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(94,"div",3),t.TgZ(95,"mat-form-field",4),t.TgZ(96,"mat-label"),t._uU(97),t.ALo(98,"translate"),t.qZA(),t.TgZ(99,"mat-select",20),t.TgZ(100,"mat-option",21),t._uU(101),t.ALo(102,"translate"),t.qZA(),t.TgZ(103,"mat-option",21),t._uU(104),t.ALo(105,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(106,"div",3),t.TgZ(107,"mat-form-field",4),t.TgZ(108,"mat-label"),t._uU(109),t.ALo(110,"translate"),t.qZA(),t._UZ(111,"input",22),t.YNc(112,Ot,4,3,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(113,"div",3),t.TgZ(114,"mat-form-field",4),t.TgZ(115,"mat-label"),t._uU(116),t.ALo(117,"translate"),t.qZA(),t._UZ(118,"input",23),t.YNc(119,Rt,4,3,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(120,"div",3),t.TgZ(121,"mat-form-field",4),t.TgZ(122,"mat-label"),t._uU(123),t.ALo(124,"translate"),t.qZA(),t._UZ(125,"input",24),t.YNc(126,Pt,4,3,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(127,"div",3),t.TgZ(128,"mat-form-field",4),t.TgZ(129,"mat-label"),t._uU(130),t.ALo(131,"translate"),t.qZA(),t._UZ(132,"input",25),t.YNc(133,St,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(134,"div",26),t.YNc(135,Mt,2,2,"div",27),t.qZA(),t.qZA(),t._UZ(136,"div",28),t.qZA(),t.qZA(),t.qZA()),2&i){const l=t.MAs(14);t.xp6(1),t.Q6J("title",t.lcZ(2,80,"IOT.INSTALLATION.EDIT"))("showEditBack",!0),t.xp6(4),t.Q6J("formGroup",a.installationEditForm),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(10,82,"IOT.INSTALLATION.DATE.TITLE")),t.xp6(2),t.Q6J("min",a.minDate)("matDatepicker",l),t.xp6(1),t.Q6J("for",l),t.xp6(3),t.Q6J("ngIf",!!a.installationEditForm.controls.installation_date.invalid&&!!a.installationEditForm.controls.installation_date.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(20,84,"IOT.INSTALLATION.DIVISION.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.divisionsList),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.division.invalid&&!!a.installationEditForm.controls.division.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(28,86,"IOT.INSTALLATION.BLOCK.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.blocksList),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.block.invalid&&!!a.installationEditForm.controls.block.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(36,88,"IOT.INSTALLATION.PANCHAYAT.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.villagesList),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.panchayat.invalid&&!!a.installationEditForm.controls.panchayat.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(44,90,"IOT.INSTALLATION.WARD.TITLE")),t.xp6(3),t.Q6J("ngIf",!!a.installationEditForm.controls.ward.invalid&&!!a.installationEditForm.controls.ward.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(51,92,"IOT.INSTALLATION.DEVICE-SERIAL-NUMBER.TITLE")),t.xp6(2),t.Q6J("min",1)("max",99999),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.device_serial_no.invalid&&!!a.installationEditForm.controls.device_serial_no.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(58,94,"IOT.INSTALLATION.MOTOR-CAPACITY.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.motorCapacityList),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.motor_capacity.invalid&&!!a.installationEditForm.controls.motor_capacity.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(66,96,"IOT.INSTALLATION.NO-PHASE.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.motorPhaseList),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.number_of_phase.invalid&&!!a.installationEditForm.controls.number_of_phase.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(74,98,"IOT.INSTALLATION.METER-TYPE.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.meterTypeList),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.meter_type.invalid&&!!a.installationEditForm.controls.meter_type.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(82,100,"IOT.INSTALLATION.PIPE-QUALITY.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.pipeQualityList),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.pipe_quality.invalid&&!!a.installationEditForm.controls.pipe_quality.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(90,102,"IOT.INSTALLATION.PIPE-DIAMETER.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.pipeDiameterList),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.pipe_diameter.invalid&&!!a.installationEditForm.controls.pipe_diameter.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(98,104,"IOT.INSTALLATION.EARTHING.TITLE")),t.xp6(3),t.Q6J("value",1),t.xp6(1),t.hij(" ",t.lcZ(102,106,"COMMON.YES"),""),t.xp6(2),t.Q6J("value",0),t.xp6(1),t.hij("",t.lcZ(105,108,"COMMON.NO")," "),t.xp6(3),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(110,110,"IOT.INSTALLATION.BOREWELL-DEPTH.TITLE")),t.xp6(3),t.Q6J("ngIf",!!a.installationEditForm.controls.borewell_depth.invalid&&!!a.installationEditForm.controls.borewell_depth.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(117,112,"IOT.INSTALLATION.TANK-CAPACITY.TITLE")),t.xp6(2),t.Q6J("min",0)("max",5e5),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.tank_capacity.invalid&&!!a.installationEditForm.controls.tank_capacity.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(124,114,"IOT.INSTALLATION.NO-PIPE-BEND.TITLE")),t.xp6(2),t.Q6J("min",0)("max",10),t.xp6(1),t.Q6J("ngIf",!!a.installationEditForm.controls.no_of_pipe_bend.invalid&&!!a.installationEditForm.controls.no_of_pipe_bend.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(131,116,"IOT.INSTALLATION.OPERATOR-NAME.TITLE")),t.xp6(3),t.Q6J("ngIf",!!a.installationEditForm.controls.operator_name.invalid&&!!a.installationEditForm.controls.operator_name.touched),t.xp6(2),t.Q6J("ngForOf",a.imagesList)}},directives:[u.I,h.q,Z.H,A.xw,A.SQ,n._Y,n.JL,A.Wh,n.sg,A.yH,c.KE,c.hX,S.Nt,n.Fj,_.hl,n.Q7,n.JJ,n.u,_.nW,c.R9,_.Mq,I.O5,tt.gD,I.sg,n.wV,n.qQ,n.Fd,D.ey,c.TO,et.$,A.s9],pipes:[b.X$],styles:["#map[_ngcontent-%COMP%]{height:280px}"]}),e})();function Wt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DATE.ERROR.REQUIRED")," "))}function $t(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DATE.ERROR.INVALID")," "))}function Ht(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Wt,3,3,"div",8),t.YNc(2,$t,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.installation_date.errors||!i.installationCreateForm.controls.installation_date.errors.required)),t.xp6(1),t.Q6J("ngIf",!!i.installationCreateForm.controls.installation_date.hasError("matDatepickerMin"))}}function Bt(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.display_name)}}function Gt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DIVISION.ERROR.REQUIRED")," "))}function Vt(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Gt,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.division.errors||!i.installationCreateForm.controls.division.errors.required))}}function zt(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.display_name)}}function Kt(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.BLOCK.ERROR.REQUIRED")," "))}function Xt(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Kt,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.block.errors||!i.installationCreateForm.controls.block.errors.required))}}function te(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.display_name)}}function ee(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.PANCHAYAT.ERROR.REQUIRED")," "))}function ie(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,ee,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.panchayat.errors||!i.installationCreateForm.controls.panchayat.errors.required))}}function ae(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.WARD.ERROR.REQUIRED")," "))}function oe(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,ae,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.ward.errors||!i.installationCreateForm.controls.ward.errors.required))}}function ne(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DEVICE-SERIAL-NUMBER.ERROR.REQUIRED")," "))}function re(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DEVICE-SERIAL-NUMBER.ERROR.MIN")," "))}function le(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.DEVICE-SERIAL-NUMBER.ERROR.MAX")," "))}function se(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,ne,3,3,"div",8),t.YNc(2,re,3,3,"div",8),t.YNc(3,le,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.device_serial_no.errors||!i.installationCreateForm.controls.device_serial_no.errors.required)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.device_serial_no.errors||!i.installationCreateForm.controls.device_serial_no.errors.min)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.device_serial_no.errors||!i.installationCreateForm.controls.device_serial_no.errors.max))}}function pe(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.display_name)}}function ce(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.MOTOR-CAPACITY.ERROR.REQUIRED")," "))}function me(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,ce,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.motor_capacity.errors||!i.installationCreateForm.controls.motor_capacity.errors.required))}}function de(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.display_name)}}function ue(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.NO-PHASE.ERROR.REQUIRED")," "))}function _e(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,ue,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.number_of_phase.errors||!i.installationCreateForm.controls.number_of_phase.errors.required))}}function Te(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.display_name)}}function ge(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.METER-TYPE.ERROR.REQUIRED")," "))}function fe(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,ge,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.meter_type.errors||!i.installationCreateForm.controls.meter_type.errors.required))}}function Ie(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.display_name)}}function Ae(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.PIPE-QUALITY.ERROR.REQUIRED")," "))}function he(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Ae,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.pipe_quality.errors||!i.installationCreateForm.controls.pipe_quality.errors.required))}}function Ze(e,o){if(1&e&&(t.TgZ(0,"mat-option",21),t._uU(1),t.qZA()),2&e){const i=o.$implicit;t.Q6J("value",i.id),t.xp6(1),t.Oqu(i.display_name)}}function Le(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.PIPE-DIAMETER.ERROR.REQUIRED")," "))}function ve(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Le,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.pipe_diameter.errors||!i.installationCreateForm.controls.pipe_diameter.errors.required))}}function xe(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.BOREWELL-DEPTH.ERROR.REQUIRED")," "))}function Ne(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.BOREWELL-DEPTH.ERROR.MIN")," "))}function Ee(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.BOREWELL-DEPTH.ERROR.MAX")," "))}function Ce(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,xe,3,3,"div",8),t.YNc(2,Ne,3,3,"div",8),t.YNc(3,Ee,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.borewell_depth.errors||!i.installationCreateForm.controls.borewell_depth.errors.required)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.borewell_depth.errors||!i.installationCreateForm.controls.borewell_depth.errors.min)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.borewell_depth.errors||!i.installationCreateForm.controls.borewell_depth.errors.max))}}function Oe(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.TANK-CAPACITY.ERROR.REQUIRED")," "))}function ye(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.TANK-CAPACITY.ERROR.MIN")," "))}function qe(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.TANK-CAPACITY.ERROR.MAX")," "))}function we(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Oe,3,3,"div",8),t.YNc(2,ye,3,3,"div",8),t.YNc(3,qe,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.tank_capacity.errors||!i.installationCreateForm.controls.tank_capacity.errors.required)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.tank_capacity.errors||!i.installationCreateForm.controls.tank_capacity.errors.min)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.tank_capacity.errors||!i.installationCreateForm.controls.tank_capacity.errors.max))}}function Re(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.NO-PIPE-BEND.ERROR.REQUIRED")," "))}function Fe(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.NO-PIPE-BEND.ERROR.MIN")," "))}function be(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.NO-PIPE-BEND.ERROR.MAX")," "))}function Qe(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Re,3,3,"div",8),t.YNc(2,Fe,3,3,"div",8),t.YNc(3,be,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.no_of_pipe_bend.errors||!i.installationCreateForm.controls.no_of_pipe_bend.errors.required)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.no_of_pipe_bend.errors||!i.installationCreateForm.controls.no_of_pipe_bend.errors.min)),t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.no_of_pipe_bend.errors||!i.installationCreateForm.controls.no_of_pipe_bend.errors.max))}}function Pe(e,o){1&e&&(t.TgZ(0,"div"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&e&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"IOT.INSTALLATION.OPERATOR-NAME.ERROR.REQUIRED")," "))}function Je(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.YNc(1,Pe,3,3,"div",8),t.qZA()),2&e){const i=t.oxw();t.xp6(1),t.Q6J("ngIf",!(null==i.installationCreateForm.controls.operator_name.errors||!i.installationCreateForm.controls.operator_name.errors.required))}}function Se(e,o){if(1&e&&t._UZ(0,"img",40),2&e){const i=t.oxw(2).$implicit;t.Q6J("src",i.base64File,t.LSH)}}function Ue(e,o){if(1&e&&t._UZ(0,"img",41),2&e){const i=t.oxw(2).$implicit;t.s9C("src",i.def_image,t.LSH)}}function Ye(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"i",42),t.NdJ("click",function(){t.CHM(i);const l=t.oxw(2).index;return t.oxw().captureCamera(l)}),t.qZA()}}function De(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"i",43),t.NdJ("click",function(){t.CHM(i);const l=t.oxw(2).index;return t.oxw().captureCamera(l)}),t.qZA()}}function Me(e,o){if(1&e&&(t.TgZ(0,"mat-error"),t.TgZ(1,"div"),t._uU(2),t.ALo(3,"translate"),t.ALo(4,"translate"),t.qZA(),t.qZA()),2&e){const i=t.oxw(2).$implicit;t.xp6(2),t.AsE(" ",t.lcZ(3,2,i.display_name)," ",t.lcZ(4,4,"COMMON.IS-REQUIRED")," ")}}function ke(e,o){if(1&e){const i=t.EpF();t.TgZ(0,"div",32),t.TgZ(1,"div",33),t.TgZ(2,"div",33),t.TgZ(3,"div"),t.YNc(4,Se,1,1,"img",34),t.YNc(5,Ue,1,1,"img",35),t.qZA(),t.TgZ(6,"div",36),t.YNc(7,Ye,1,0,"i",37),t.YNc(8,De,1,0,"i",38),t.TgZ(9,"i",39),t.NdJ("click",function(){t.CHM(i);const l=t.oxw().index;return t.oxw().delete(l)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(10,"div"),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,Me,5,6,"mat-error",8),t.qZA(),t.qZA()}if(2&e){const i=t.oxw().$implicit,a=t.oxw();t.xp6(4),t.Q6J("ngIf",i.base64File),t.xp6(1),t.Q6J("ngIf",!i.base64File),t.xp6(2),t.Q6J("ngIf",!a.isMobile),t.xp6(1),t.Q6J("ngIf",a.isMobile),t.xp6(3),t.Oqu(t.lcZ(12,6,i.display_name)),t.xp6(2),t.Q6J("ngIf",!i.base64File&&1===i.is_required)}}function je(e,o){if(1&e&&(t.TgZ(0,"div",30),t.YNc(1,ke,14,8,"div",31),t.qZA()),2&e){const i=o.$implicit;t.Q6J("appPermission",i.permission_code),t.xp6(1),t.Q6J("ngIf","PHOTO"===i.capture_type)}}const We=rt;let $e=(()=>{class e{constructor(i,a,l,m,W,V,It){this.installlationService=i,this.activatedRoute=a,this.router=l,this.snackbarService=m,this.store=W,this.translate=V,this.fb=It,this.appearanceType="outline",this.minDate=new Date,this.imagesList=[],this.base64File=null,this.imgesList=[{id:1,name:"Site",display_name:""}],this.mapdataLoaded=!0,this.markerPositions=[],this.userLocationsList=[],this.divisionsList=[],this.blocksList=[],this.villagesList=[],this.isMobile=!1,this.store.select($.D6).subscribe(z=>{this.translate.use(z.userPreference.language),this.appearanceType=z.userPreference.appearanceType}),this.isMobile=N.N.isMobileApp}ngOnInit(){L.Icon.Default.ImagePath="/assets/",this.installationCreateForm=this.fb.group({installation_date:new n.NI({value:We(),disabled:!0}),device_serial_no:new n.NI(""),division:new n.NI(""),block:new n.NI(""),panchayat:new n.NI(""),ward:new n.NI(""),operator_name:new n.NI(""),motor_capacity:new n.NI(""),number_of_phase:new n.NI(""),meter_type:new n.NI(""),pipe_quality:new n.NI(""),pipe_diameter:new n.NI(""),borewell_depth:new n.NI(""),earthing:new n.NI(""),tank_capacity:new n.NI(""),no_of_pipe_bend:new n.NI("")}),this.getMotorCapacityList(),this.getMotorPhaseList(),this.getPipeDiameterList(),this.getPipeQualityList(),this.getMeterTypeList(),this.getImagesList(),this.getUserLocationsList(),this.prepareMap()}prepareMap(){navigator.geolocation?navigator.geolocation.getCurrentPosition(i=>{if(i){this.mapdataLoaded=!0,this.latitude=i.coords.latitude,this.longitude=i.coords.longitude,this.latLong=[this.latitude,this.longitude];let l=L.map("map").setView(this.latLong,15);L.tileLayer("https://api.mapbox.com/styles/v1/{id}/tiles/{z}/{x}/{y}?access_token=pk.eyJ1Ijoic3VicmF0MDA3IiwiYSI6ImNrYjNyMjJxYjBibnIyem55d2NhcTdzM2IifQ.-NnMzrAAlykYciP4RP9zYQ",{attribution:'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors, <a href="https://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery \xa9 <a href="https://www.mapbox.com/">Mapbox</a>',maxZoom:18,id:"mapbox/streets-v11",tileSize:512,zoomOffset:-1,accessToken:"your.mapbox.access.token"}).addTo(l);var a=L.icon({iconUrl:"assets/marker-icon.png",shadowUrl:"assets/marker-shadow.png",iconSize:[24,30],shadowSize:[18,24]});L.marker(this.latLong,{icon:a}).addTo(l).bindPopup("<b>Hi</b>").openPopup(),L.popup().setLatLng(this.latLong).setContent("I am Here").openOn(l)}},i=>console.log(i),{enableHighAccuracy:!0}):alert("location is not supported")}getUserLocationsList(){this.installlationService.getUserLocationsList().subscribe({next:i=>{this.userLocationsList.push(...i),this.divisionsList=this.userLocationsList.filter(a=>3===a.location_type)},error:i=>{this.imagesList=[]}})}onDivsionChange(i){const a=i.value;this.blocksList=this.userLocationsList.filter(l=>4===l.location_type&&l.parent_id===a),this.villagesList=[],this.installationCreateForm.patchValue({block:null,panchayat:null})}onBlockChange(i){const a=i.value;this.villagesList=this.userLocationsList.filter(l=>5===l.location_type&&l.parent_id===a),this.installationCreateForm.patchValue({panchayat:null})}watchPosition(){let l=navigator.geolocation.watchPosition(m=>{0===m.coords.latitude&&navigator.geolocation.clearWatch(l)},m=>{},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})}getImagesList(){this.installlationService.getImagesList().subscribe({next:i=>{this.imagesList.push(...i),this.allrequiredImagesAreUploded()},error:i=>{this.imagesList=[]}})}getPipeDiameterList(){this.installlationService.getPipeDiameterList().subscribe({next:i=>{this.pipeDiameterList=i},error:i=>{this.pipeDiameterList=[]}})}getMeterTypeList(){this.installlationService.getMeterTypeList().subscribe({next:i=>{this.meterTypeList=i},error:i=>{this.meterTypeList=[]}})}compareFn(i,a){return!1}getPipeQualityList(){this.installlationService.getPipeQualityList().subscribe({next:i=>{this.pipeQualityList=i},error:i=>{this.pipeQualityList=[]}})}getMotorPhaseList(){this.installlationService.getMotorPhaseList().subscribe({next:i=>{this.motorPhaseList=i},error:i=>{this.motorPhaseList=[]}})}getMotorCapacityList(){this.installlationService.getMotorCapacityList().subscribe({next:i=>{this.motorCapacityList=i},error:i=>{this.motorCapacityList=[]}})}saveInstallation(){let i=this.installationCreateForm.getRawValue();i.installation_date&&(i.installation_date=i.installation_date.valueOf()),i.addldata={imagesList:this.imagesList},i.latitude=this.latitude,i.longitude=this.longitude,this.installlationService.save(i).subscribe({next:a=>{this.snackbarService.info(this.translate.instant("IOT.INSTALLATION.CREATE-SUCESS")),this.router.navigate(["./../"],{relativeTo:this.activatedRoute})},error:a=>this.snackbarService.warn(this.translate.instant("IOT.INSTALLATION.CREATE-ERROR"))})}getPageAction(i){"save"===i.toString()&&this.saveInstallation()}dateChangeHandler(i){let a=this.installationCreateForm.value;a.installation_date=a.installation_date.valueOf()}captureCamera(i){var a=this;return(0,K.Z)(function*(){let l={source:a.isMobile?C.oK.Camera:C.oK.Photos,resultType:C.dk.Base64,quality:40,width:100,height:100,allowEditing:!1,saveToGallery:!0};const m=yield X.getPhoto(l);a.imagesList[i].base64File="data:image/png;base64,"+m.base64String,a.allrequiredImagesAreUploded()})()}delete(i){this.base64File=null,this.imagesList[i].base64File=null,this.allrequiredImagesAreUploded()}allrequiredImagesAreUploded(){if(this.imagesList&&this.imagesList.length>0)for(const i of this.imagesList)if(i.is_required&&(!i.base64File||null==i.base64File))return!1;return!0}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(d),t.Y36(w.gz),t.Y36(w.F0),t.Y36(r.o),t.Y36(p.yh),t.Y36(b.sK),t.Y36(n.qu))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-installation-new"]],decls:138,vars:122,consts:[[3,"title","showBack","showIcon","showSave","isDisabled","pageAction"],["fxLayout","column","fxLayoutGap","10px"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutGap","10px","fxLayoutAlign","flex-start",3,"formGroup"],["fxFlex","0 1 calc(33.3% - 10px)","fxFlex.lt-md","0 1 calc(50% - 10px)","fxFlex.lt-sm","100%"],[3,"appearance"],["matInput","","required","","formControlName","installation_date","autocomplete","off",3,"min","matDatepicker"],["matSuffix","",3,"for"],["picker1",""],[4,"ngIf"],["formControlName","division","required","",3,"compareWith","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["formControlName","block","required","",3,"compareWith","selectionChange"],["formControlName","panchayat","required","",3,"compareWith"],["formControlName","ward","matInput","","required",""],["type","number","formControlName","device_serial_no","matInput","","required","",3,"min","max"],["formControlName","motor_capacity","required","",3,"compareWith"],["formControlName","number_of_phase","required","",3,"compareWith"],["formControlName","meter_type","required","",3,"compareWith"],["formControlName","pipe_quality","required","",3,"compareWith"],["formControlName","pipe_diameter","required","",3,"compareWith"],["formControlName","earthing","required",""],[3,"value"],["type","number","min","0","max","1999","formControlName","borewell_depth","matInput","","required",""],["type","number","min","0","max","1999","formControlName","tank_capacity","matInput","","required","",3,"min","max"],["type","number","formControlName","no_of_pipe_bend","matInput","",3,"min","max"],["formControlName","operator_name","matInput","","required",""],["fxLayout","row wrap","fxLayout.xs","column","fxLayoutAlign","stretch","fxFlex","1 1 100%","fxLayoutGap","16px grid"],["fxFlex.lg","1 1 25","fxFlex.sm","1 1 50","fxFlex.xl","1 1 20","fxFlex.md","1 1 33.33","fxLayoutAlign","stretch","fxLayoutGap","5px",3,"appPermission",4,"ngFor","ngForOf"],[1,"p-2",3,"appPermission"],["id","map"],["fxFlex.lg","1 1 25","fxFlex.sm","1 1 50","fxFlex.xl","1 1 20","fxFlex.md","1 1 33.33","fxLayoutAlign","stretch","fxLayoutGap","5px",3,"appPermission"],["fxLayout","column","fxFlexFill","","fxLayoutAlign","center center","fxLayoutGap","10px","style","border: 1px solid lightgray;padding: 1em;",4,"ngIf"],["fxLayout","column","fxFlexFill","","fxLayoutAlign","center center","fxLayoutGap","10px",2,"border","1px solid lightgray","padding","1em"],["fxLayout","column","fxLayoutGap","10px","fxLayoutAlign","center center"],["alt","img","width","100","height","100",3,"src",4,"ngIf"],["alt","img","width","120","height","120",3,"src",4,"ngIf"],["fxLayout","row","fxLayoutGap","5px"],["class","accent-color las la-2x la-upload",3,"click",4,"ngIf"],["class","accent-color las la-2x la-camera",3,"click",4,"ngIf"],[1,"warn-color","las","la-2x","la-trash",3,"click"],["alt","img","width","100","height","100",3,"src"],["alt","img","width","120","height","120",3,"src"],[1,"accent-color","las","la-2x","la-upload",3,"click"],[1,"accent-color","las","la-2x","la-camera",3,"click"]],template:function(i,a){if(1&i&&(t.TgZ(0,"app-page"),t.TgZ(1,"app-page-header",0),t.NdJ("pageAction",function(m){return a.getPageAction(m)}),t.ALo(2,"translate"),t.qZA(),t.TgZ(3,"app-page-body"),t.TgZ(4,"div",1),t.TgZ(5,"form",2),t.TgZ(6,"div",3),t.TgZ(7,"mat-form-field",4),t.TgZ(8,"mat-label"),t._uU(9),t.ALo(10,"translate"),t.qZA(),t._UZ(11,"input",5),t._UZ(12,"mat-datepicker-toggle",6),t._UZ(13,"mat-datepicker",null,7),t.YNc(15,Ht,3,2,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(16,"div",3),t.TgZ(17,"mat-form-field",4),t.TgZ(18,"mat-label"),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"mat-select",9),t.NdJ("selectionChange",function(m){return a.onDivsionChange(m)}),t.YNc(22,Bt,2,2,"mat-option",10),t.qZA(),t.YNc(23,Vt,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(24,"div",3),t.TgZ(25,"mat-form-field",4),t.TgZ(26,"mat-label"),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"mat-select",11),t.NdJ("selectionChange",function(m){return a.onBlockChange(m)}),t.YNc(30,zt,2,2,"mat-option",10),t.qZA(),t.YNc(31,Xt,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(32,"div",3),t.TgZ(33,"mat-form-field",4),t.TgZ(34,"mat-label"),t._uU(35),t.ALo(36,"translate"),t.qZA(),t.TgZ(37,"mat-select",12),t.YNc(38,te,2,2,"mat-option",10),t.qZA(),t.YNc(39,ie,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(40,"div",3),t.TgZ(41,"mat-form-field",4),t.TgZ(42,"mat-label"),t._uU(43),t.ALo(44,"translate"),t.qZA(),t._UZ(45,"input",13),t.YNc(46,oe,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(47,"div",3),t.TgZ(48,"mat-form-field",4),t.TgZ(49,"mat-label"),t._uU(50),t.ALo(51,"translate"),t.qZA(),t._UZ(52,"input",14),t.YNc(53,se,4,3,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(54,"div",3),t.TgZ(55,"mat-form-field",4),t.TgZ(56,"mat-label"),t._uU(57),t.ALo(58,"translate"),t.qZA(),t.TgZ(59,"mat-select",15),t.YNc(60,pe,2,2,"mat-option",10),t.qZA(),t.YNc(61,me,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(62,"div",3),t.TgZ(63,"mat-form-field",4),t.TgZ(64,"mat-label"),t._uU(65),t.ALo(66,"translate"),t.qZA(),t.TgZ(67,"mat-select",16),t.YNc(68,de,2,2,"mat-option",10),t.qZA(),t.YNc(69,_e,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(70,"div",3),t.TgZ(71,"mat-form-field",4),t.TgZ(72,"mat-label"),t._uU(73),t.ALo(74,"translate"),t.qZA(),t.TgZ(75,"mat-select",17),t.YNc(76,Te,2,2,"mat-option",10),t.qZA(),t.YNc(77,fe,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(78,"div",3),t.TgZ(79,"mat-form-field",4),t.TgZ(80,"mat-label"),t._uU(81),t.ALo(82,"translate"),t.qZA(),t.TgZ(83,"mat-select",18),t.YNc(84,Ie,2,2,"mat-option",10),t.qZA(),t.YNc(85,he,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(86,"div",3),t.TgZ(87,"mat-form-field",4),t.TgZ(88,"mat-label"),t._uU(89),t.ALo(90,"translate"),t.qZA(),t.TgZ(91,"mat-select",19),t.YNc(92,Ze,2,2,"mat-option",10),t.qZA(),t.YNc(93,ve,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(94,"div",3),t.TgZ(95,"mat-form-field",4),t.TgZ(96,"mat-label"),t._uU(97),t.ALo(98,"translate"),t.qZA(),t.TgZ(99,"mat-select",20),t.TgZ(100,"mat-option",21),t._uU(101),t.ALo(102,"translate"),t.qZA(),t.TgZ(103,"mat-option",21),t._uU(104),t.ALo(105,"translate"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.TgZ(106,"div",3),t.TgZ(107,"mat-form-field",4),t.TgZ(108,"mat-label"),t._uU(109),t.ALo(110,"translate"),t.qZA(),t._UZ(111,"input",22),t.YNc(112,Ce,4,3,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(113,"div",3),t.TgZ(114,"mat-form-field",4),t.TgZ(115,"mat-label"),t._uU(116),t.ALo(117,"translate"),t.qZA(),t._UZ(118,"input",23),t.YNc(119,we,4,3,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(120,"div",3),t.TgZ(121,"mat-form-field",4),t.TgZ(122,"mat-label"),t._uU(123),t.ALo(124,"translate"),t.qZA(),t._UZ(125,"input",24),t.YNc(126,Qe,4,3,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(127,"div",3),t.TgZ(128,"mat-form-field",4),t.TgZ(129,"mat-label"),t._uU(130),t.ALo(131,"translate"),t.qZA(),t._UZ(132,"input",25),t.YNc(133,Je,2,1,"mat-error",8),t.qZA(),t.qZA(),t.TgZ(134,"div",26),t.YNc(135,je,2,2,"div",27),t.qZA(),t.qZA(),t.TgZ(136,"div",28),t._UZ(137,"div",29),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i){const l=t.MAs(14);t.xp6(1),t.Q6J("title",t.lcZ(2,84,"IOT.INSTALLATION.CREATE"))("showBack",!0)("showIcon",!0)("showSave",!0)("isDisabled",a.installationCreateForm.invalid),t.xp6(4),t.Q6J("formGroup",a.installationCreateForm),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(10,86,"IOT.INSTALLATION.DATE.TITLE")),t.xp6(2),t.Q6J("min",a.minDate)("matDatepicker",l),t.xp6(1),t.Q6J("for",l),t.xp6(3),t.Q6J("ngIf",!!a.installationCreateForm.controls.installation_date.invalid&&!!a.installationCreateForm.controls.installation_date.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(20,88,"IOT.INSTALLATION.DIVISION.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.divisionsList),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.division.invalid&&!!a.installationCreateForm.controls.division.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(28,90,"IOT.INSTALLATION.BLOCK.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.blocksList),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.block.invalid&&!!a.installationCreateForm.controls.block.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(36,92,"IOT.INSTALLATION.PANCHAYAT.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.villagesList),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.panchayat.invalid&&!!a.installationCreateForm.controls.panchayat.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(44,94,"IOT.INSTALLATION.WARD.TITLE")),t.xp6(3),t.Q6J("ngIf",!!a.installationCreateForm.controls.ward.invalid&&!!a.installationCreateForm.controls.ward.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(51,96,"IOT.INSTALLATION.DEVICE-SERIAL-NUMBER.TITLE")),t.xp6(2),t.Q6J("min",1)("max",99999),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.device_serial_no.invalid&&!!a.installationCreateForm.controls.device_serial_no.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(58,98,"IOT.INSTALLATION.MOTOR-CAPACITY.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.motorCapacityList),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.motor_capacity.invalid&&!!a.installationCreateForm.controls.motor_capacity.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(66,100,"IOT.INSTALLATION.NO-PHASE.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.motorPhaseList),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.number_of_phase.invalid&&!!a.installationCreateForm.controls.number_of_phase.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(74,102,"IOT.INSTALLATION.METER-TYPE.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.meterTypeList),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.meter_type.invalid&&!!a.installationCreateForm.controls.meter_type.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(82,104,"IOT.INSTALLATION.PIPE-QUALITY.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.pipeQualityList),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.pipe_quality.invalid&&!!a.installationCreateForm.controls.pipe_quality.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(90,106,"IOT.INSTALLATION.PIPE-DIAMETER.TITLE")),t.xp6(2),t.Q6J("compareWith",a.compareFn),t.xp6(1),t.Q6J("ngForOf",a.pipeDiameterList),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.pipe_diameter.invalid&&!!a.installationCreateForm.controls.pipe_diameter.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(98,108,"IOT.INSTALLATION.EARTHING.TITLE")),t.xp6(3),t.Q6J("value",1),t.xp6(1),t.hij(" ",t.lcZ(102,110,"COMMON.YES"),""),t.xp6(2),t.Q6J("value",0),t.xp6(1),t.hij("",t.lcZ(105,112,"COMMON.NO")," "),t.xp6(3),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(110,114,"IOT.INSTALLATION.BOREWELL-DEPTH.TITLE")),t.xp6(3),t.Q6J("ngIf",!!a.installationCreateForm.controls.borewell_depth.invalid&&!!a.installationCreateForm.controls.borewell_depth.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(117,116,"IOT.INSTALLATION.TANK-CAPACITY.TITLE")),t.xp6(2),t.Q6J("min",0)("max",5e5),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.tank_capacity.invalid&&!!a.installationCreateForm.controls.tank_capacity.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(124,118,"IOT.INSTALLATION.NO-PIPE-BEND.TITLE")),t.xp6(2),t.Q6J("min",0)("max",10),t.xp6(1),t.Q6J("ngIf",!!a.installationCreateForm.controls.no_of_pipe_bend.invalid&&!!a.installationCreateForm.controls.no_of_pipe_bend.touched),t.xp6(2),t.Q6J("appearance",a.appearanceType),t.xp6(2),t.Oqu(t.lcZ(131,120,"IOT.INSTALLATION.OPERATOR-NAME.TITLE")),t.xp6(3),t.Q6J("ngIf",!!a.installationCreateForm.controls.operator_name.invalid&&!!a.installationCreateForm.controls.operator_name.touched),t.xp6(2),t.Q6J("ngForOf",a.imagesList),t.xp6(1),t.Q6J("appPermission","IOT-PHOTO-MAP")}},directives:[u.I,h.q,Z.H,A.xw,A.SQ,n._Y,n.JL,A.Wh,n.sg,A.yH,c.KE,c.hX,S.Nt,n.Fj,_.hl,n.Q7,n.JJ,n.u,_.nW,c.R9,_.Mq,I.O5,tt.gD,I.sg,n.wV,n.qQ,n.Fd,D.ey,et.$,c.TO,A.s9],pipes:[b.X$],styles:["#map[_ngcontent-%COMP%]{height:180px}"]}),e})();var He=s(7142);const Be=[{path:"",component:(()=>{class e{constructor(i,a,l,m,W){this.installationService=i,this.activatedRoute=a,this.router=l,this.store=m,this.translate=W,this.displayedColumns=["device_serial_no","operator_name","installation_date","panchayat"],this.headers=[{columnName:"device_serial_no",display_name:"GRID.DEVICE-SRNO"},{columnName:"operator_name",display_name:"GRID.OPERATOR-NAME"},{columnName:"installation_date",display_name:"GRID.INST-DATE"},{columnName:"panchayat",display_name:"GRID.PANCHAYAT"}],this.dataLoaded=!1,this.searchString="",this.store.select($.D6).subscribe(V=>{this.translate.use(V.userPreference.language)})}ngOnInit(){localStorage.removeItem("selectedItem"),this.getAllInstallations()}getAllInstallations(){this.installationService.getAll().subscribe({next:i=>{this.gridData=i,this.dataLoaded=!0},error:i=>{this.dataLoaded=!0,this.gridData=[]}})}selectedRowItem(i){localStorage.setItem("selectedItem",JSON.stringify(i)),this.router.navigate(["./edit/"+i.id],{relativeTo:this.activatedRoute})}selectedSelection(i){}getSearchString(i){this.searchString=i}}return e.\u0275fac=function(i){return new(i||e)(t.Y36(d),t.Y36(w.gz),t.Y36(w.F0),t.Y36(p.yh),t.Y36(b.sK))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-installation"]],decls:7,vars:16,consts:[[3,"title","showNew","showIcon","showSearch","searchPlaceholder","emitSearchString"],[1,"p-2"],[3,"showSkeleton","data","displayColumns","useCustomHeader","headers","showFilter","searchString","selectedRow","selectedSelection"]],template:function(i,a){1&i&&(t.TgZ(0,"app-page"),t.TgZ(1,"app-page-header",0),t.NdJ("emitSearchString",function(m){return a.getSearchString(m)}),t.ALo(2,"translate"),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"app-page-body"),t.TgZ(5,"div",1),t.TgZ(6,"app-shared-grid",2),t.NdJ("selectedRow",function(m){return a.selectedRowItem(m)})("selectedSelection",function(m){return a.selectedSelection(m)}),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&i&&(t.xp6(1),t.Q6J("title",t.lcZ(2,12,"IOT.INSTALLATION.PAGE-TITLE"))("showNew",!0)("showIcon",!0)("showSearch",!0)("searchPlaceholder",t.lcZ(3,14,"USERS.SEARCH-PLACEHOLDER")),t.xp6(5),t.Q6J("showSkeleton",!a.dataLoaded)("data",a.gridData)("displayColumns",a.displayedColumns)("useCustomHeader",!0)("headers",a.headers)("showFilter",!1)("searchString",a.searchString))},directives:[u.I,h.q,Z.H,He.M],pipes:[b.X$],styles:[""]}),e})()},{path:"new",component:$e,data:{breadcrumb:"New"}},{path:"edit/:id",component:jt,data:{breadcrumb:"Edit Installation"}}];let Ge=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[w.Bz.forChild(Be)],w.Bz]}),e})();function Lt(e){return new ht.w(e,"assets/i18n/",".json")}let Ve=(()=>{class e{}return e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[I.ez,Ge,nt.q,n.u5,y.JF,y.Ed,x.Y4,n.UX,b.aw.forChild({loader:{provide:b.Zw,useFactory:Lt,deps:[y.eN]},isolate:!0}),n.UX,n.u5,k.m,Q._]]}),e})()}}]);