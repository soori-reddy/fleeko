"use strict";(self.webpackChunksolidapp=self.webpackChunksolidapp||[]).push([[5271],{2414:(T,F,p)=>{p.d(F,{r:()=>K});var e=p(5e3),a=p(3075),l=p(5905),y=p(5687),x=p(9808),r=p(7093),c=p(4971),m=p(2329),d=p(5094),h=p(1062);let _=(()=>{class n{constructor(t,i,o){this.permissionService=t,this.store=i,this.translate=o,this.pathSegments=[],this.appearanceType="outline",this.store.select(c.D6).subscribe(f=>{this.translate.use(f.userPreference.language),this.appearanceType=f.userPreference.appearanceType})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.$),e.Y36(d.yh),e.Y36(h.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-date"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"date works!"),e.qZA())},styles:[""]}),n})();var u=p(7322),v=p(408),C=p(3322),I=p(7531),w=p(7238),O=p(3874);function S(n,s){1&n&&e.GkF(0)}function D(n,s){1&n&&e.GkF(0)}const Z=function(n,s){return{$implicit:n,group:s}};function b(n,s){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,D,1,0,"ng-container",1),e.qZA()),2&n){const t=e.oxw(),i=t.$implicit,o=t.group,f=e.oxw(),g=e.MAs(3);e.xp6(1),e.Q6J("ngTemplateOutlet",g)("ngTemplateOutletContext",e.WLB(2,Z,i+1,o.get(f.pathSegments[i])))}}function E(n,s){if(1&n&&(e.TgZ(0,"mat-icon",11),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.field.decorator.suffix)}}function P(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"mat-icon",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return o.showHidePassword(o.field)}),e._uU(1),e.qZA()}if(2&n){const t=e.oxw(3);e.xp6(1),e.hij(" ",t.hidePassword?"visibility":"visibility_off"," ")}}function Y(n,s){if(1&n&&(e.TgZ(0,"mat-icon",13),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.field.decorator.prefix)}}function J(n,s){if(1&n&&(e.TgZ(0,"mat-hint"),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.field.decorator.hint)}}function N(n,s){if(1&n&&(e.TgZ(0,"mat-hint",14),e._uU(1),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(t.field.decorator.hintEnd)}}function k(n,s){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.lcZ(2,1,t.message))}}function L(n,s){if(1&n&&(e.ynx(0,15),e.YNc(1,k,3,3,"mat-error",3),e.BQk()),2&n){const t=s.$implicit,i=e.oxw(3);e.xp6(1),e.Q6J("ngIf",i.form.get(i.field.key).hasError(t.key))}}function Q(n,s){if(1&n&&(e.TgZ(0,"div"),e.TgZ(1,"mat-form-field",4),e.TgZ(2,"mat-label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.YNc(5,E,2,1,"mat-icon",5),e.YNc(6,P,2,1,"mat-icon",6),e.YNc(7,Y,2,1,"mat-icon",7),e.YNc(8,J,2,1,"mat-hint",3),e.YNc(9,N,2,1,"mat-hint",8),e._UZ(10,"input",9),e.ALo(11,"translate"),e.YNc(12,L,2,1,"ng-container",10),e.qZA(),e.qZA()),2&n){const t=e.oxw().group,i=e.oxw();e.xp6(1),e.Q6J("formGroup",t)("appearance",i.appearanceType)("appPermission",i.field.security.permissionCode)("fxHide",!i.field.display.visible),e.xp6(2),e.Oqu(e.lcZ(4,16,i.field.name)),e.xp6(2),e.Q6J("ngIf",i.field.decorator.suffix&&"password"!==i.field.inputType&&i.hidePassword),e.xp6(1),e.Q6J("ngIf",i.field.security.enableShowPassword&&("password"===i.field.inputType||!i.hidePassword)),e.xp6(1),e.Q6J("ngIf",i.field.decorator.prefix),e.xp6(1),e.Q6J("ngIf",i.field.decorator.hint),e.xp6(1),e.Q6J("ngIf",i.field.decorator.hintEnd),e.xp6(1),e.s9C("matTooltip",i.field.decorator.tooltip),e.Q6J("formControlName",i.pathSegments[i.pathSegments.length-1])("placeholder",e.lcZ(11,18,i.field.label))("type",i.field.inputType)("readonly",i.field.display.disabled),e.xp6(2),e.Q6J("ngForOf",i.field.validations)}}function $(n,s){if(1&n&&(e.YNc(0,b,2,5,"div",3),e.YNc(1,Q,13,20,"div",3)),2&n){const t=s.$implicit,i=e.oxw();e.Q6J("ngIf",t<i.pathSegments.length-1),e.xp6(1),e.Q6J("ngIf",t+1===i.pathSegments.length)}}const G=function(n){return{$implicit:0,group:n}},R={TEXT:(()=>{class n{constructor(t,i,o){this.permissionService=t,this.store=i,this.translate=o,this.pathSegments=[],this.hidePassword=!0,this.appearanceType="outline",this.store.select(c.D6).subscribe(f=>{this.translate.use(f.userPreference.language),this.appearanceType=f.userPreference.appearanceType})}showHidePassword(t){"text"===t.inputType?t.inputType="password":(t.inputType="password")&&(t.inputType="text"),this.hidePassword=!this.hidePassword}ngOnInit(){this.form=this.group}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.$),e.Y36(d.yh),e.Y36(h.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-input"]],decls:4,vars:5,consts:[[3,"formGroup"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["formItemTemplate",""],[4,"ngIf"],[3,"formGroup","appearance","appPermission","fxHide"],["matSuffix","",4,"ngIf"],["matSuffix","","class","mouse-pointer",3,"click",4,"ngIf"],["matPrefix","",4,"ngIf"],["align","end",4,"ngIf"],["matInput","",3,"matTooltip","formControlName","placeholder","type","readonly"],["ngProjectAs","mat-error",5,["mat-error"],4,"ngFor","ngForOf"],["matSuffix",""],["matSuffix","",1,"mouse-pointer",3,"click"],["matPrefix",""],["align","end"],["ngProjectAs","mat-error",5,["mat-error"]]],template:function(t,i){if(1&t&&(e.ynx(0,0),e.YNc(1,S,1,0,"ng-container",1),e.YNc(2,$,2,2,"ng-template",null,2,e.W1O),e.BQk()),2&t){const o=e.MAs(3);e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(3,G,i.group))}},directives:[a.JL,a.sg,x.tP,x.O5,u.KE,v.$,C.b8,u.hX,I.Nt,a.Fj,w.gM,a.JJ,a.u,x.sg,O.Hw,u.R9,u.qo,u.bx,u.TO],pipes:[h.X$],styles:[""]}),n})(),select:(()=>{class n{constructor(t,i,o){this.permissionService=t,this.store=i,this.translate=o,this.pathSegments=[],this.appearanceType="outline",this.store.select(c.D6).subscribe(f=>{this.translate.use(f.userPreference.language),this.appearanceType=f.userPreference.appearanceType})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.$),e.Y36(d.yh),e.Y36(h.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-select"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"select works!"),e.qZA())},styles:[""]}),n})(),date:_,radio:(()=>{class n{constructor(t,i,o){this.permissionService=t,this.store=i,this.translate=o,this.pathSegments=[],this.appearanceType="outline",this.store.select(c.D6).subscribe(f=>{this.translate.use(f.userPreference.language),this.appearanceType=f.userPreference.appearanceType})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m.$),e.Y36(d.yh),e.Y36(h.sK))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-radio"]],decls:2,vars:0,template:function(t,i){1&t&&(e.TgZ(0,"p"),e._uU(1,"radio works!"),e.qZA())},styles:[""]}),n})()};let X=(()=>{class n{constructor(t){this.container=t}ngOnInit(){this.componentRef=this.container.createComponent(R[this.field.controlType]),this.componentRef.instance.field=this.field,this.componentRef.instance.group=this.group,this.componentRef.instance.flexConfig=this.flexConfig,this.componentRef.instance.pathSegments=this.field.key.split(".")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.s_b))},n.\u0275dir=e.lG2({type:n,selectors:[["","appDynamicField",""]],inputs:{field:"field",group:"group",flexConfig:"flexConfig"}}),n})();function U(n,s){if(1&n&&(e.TgZ(0,"div",4),e.GkF(1,5),e.qZA()),2&n){const t=s.$implicit,i=e.oxw(2);e.xp6(1),e.Q6J("field",t)("group",i.form)("flexConfig",i.flexConfig)}}function q(n,s){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,U,2,3,"div",3),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.fields)}}function V(n,s){if(1&n&&(e.TgZ(0,"div",7),e.GkF(1,5),e.qZA()),2&n){const t=s.$implicit,i=e.oxw(2);e.Q6J("fxFlex",100/i.flexConfig.layoutColumn.id+"%"),e.xp6(1),e.Q6J("field",t)("group",i.form)("flexConfig",i.flexConfig)}}function M(n,s){if(1&n&&(e.TgZ(0,"div",2),e.YNc(1,V,2,4,"div",6),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.fields)}}let K=(()=>{class n{constructor(t){this.fb=t,this.fields=[],this.isValidForm=new e.vpe,this.formData=new e.vpe}get value(){return this.form.value}ngOnChanges(){this.toggleViewMode(this.readonly)}ngOnInit(){this.createControl(),this.toggleViewMode(this.readonly),this.form.valueChanges.subscribe(t=>{this.emitFormStatus()})}toggleViewMode(t){this.form&&(t?this.form.disable():this.form.enable())}emitFormStatus(){this.form.valid?(this.isValidForm.emit(!0),this.formData.emit(this.form.value)):this.isValidForm.emit(!1)}createOneControl(t){return this.fb.control({value:t.value?t.value:null,disabled:t.display.disabled},this.bindValidations(t.validations||[]))}createOneGroup(){return this.fb.group({})}createControl(){this.form=this.fb.group({}),this.fields.reduce((i,o)=>(!!i.find(g=>g.key===o.key)||i.push(o),i),[]).forEach(i=>{if(i.controlType===l.C.BUTTON)return;const o=i.key.split(".");if(1===o.length)this.form.addControl(i.key,this.createOneControl(i));else if(o.length>1){let f="";for(let g=0;g<o.length;g++)if(f=f,g===o.length-1){let A=i.key.substring(0,i.key.lastIndexOf("."));this.form.get(A).addControl(o[g],this.createOneControl(i))}else g>0?(this.form.get(f).addControl(o[g],this.createOneGroup()),f=f+"."+o[g]):(this.form.addControl(o[g],this.createOneGroup()),f=o[g])}}),this.emitFormStatus()}bindValidations(t){if(t.length>0){const i=[];return t.forEach(o=>{switch(o.key){case"min":o.value&&i.push(a.kI.min(parseInt(o.value)));break;case"max":o.value&&i.push(a.kI.max(parseInt(o.value)));break;case"minlength":o.value&&i.push(a.kI.minLength(parseInt(o.value)));break;case"maxlength":o.value&&i.push(a.kI.maxLength(parseInt(o.value)));break;case"required":o.value&&i.push(a.kI.required);break;case"email":o.value&&i.push(a.kI.email);break;case"pattern":o.value&&i.push(a.kI.pattern(o.value));break;case"ipadress":o.value&&i.push(y.c)}}),a.kI.compose(i)}return null}onSubmit(t){t.preventDefault(),t.stopPropagation(),this.form.valid?this.formData.emit(this.form.value):this.validateAllFormFields(this.form)}testSubmit(){this.form.valid||this.validateAllFormFields(this.form)}validateAllFormFields(t){Object.keys(t.controls).forEach(i=>{t.get(i).markAsTouched({onlySelf:!0})})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(a.qu))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-dynamic-form"]],inputs:{fields:"fields",flexConfig:"flexConfig",readonly:"readonly"},outputs:{isValidForm:"isValidForm",formData:"formData"},features:[e.TTD],decls:3,vars:3,consts:[[3,"formGroup","submit"],["fxLayout","row wrap","fxFlex","1 1 100%","fxLayoutAlign","start center","fxLayoutGap","10px grid",4,"ngIf"],["fxLayout","row wrap","fxFlex","1 1 100%","fxLayoutAlign","start center","fxLayoutGap","10px grid"],["fxFlex.gt-lg","20","fxFlex.lg","25","fxFlex","33.33","fxFlex.sm","50","fxFlex.xs","100","fxLayout","column",4,"ngFor","ngForOf"],["fxFlex.gt-lg","20","fxFlex.lg","25","fxFlex","33.33","fxFlex.sm","50","fxFlex.xs","100","fxLayout","column"],["appDynamicField","",3,"field","group","flexConfig"],["fxLayout","column",3,"fxFlex",4,"ngFor","ngForOf"],["fxLayout","column",3,"fxFlex"]],template:function(t,i){1&t&&(e.TgZ(0,"form",0),e.NdJ("submit",function(f){return i.onSubmit(f)}),e.YNc(1,q,2,1,"div",1),e.YNc(2,M,2,1,"div",1),e.qZA()),2&t&&(e.Q6J("formGroup",i.form),e.xp6(1),e.Q6J("ngIf",1===i.flexConfig.display.id),e.xp6(1),e.Q6J("ngIf",2===i.flexConfig.display.id))},directives:[a._Y,a.JL,a.sg,x.O5,r.xw,r.yH,r.Wh,r.SQ,x.sg,X],styles:[""]}),n})()},5905:(T,F,p)=>{p.d(F,{C:()=>e,n:()=>a});var e=(()=>{return(l=e||(e={})).TEXT="TEXT",l.CARD="CARD",l.DATEPICKER="DATEPICKER",l.BUTTON="BUTTON",l.TEXTAREA="TEXTAREA",l.DROPDOWN="DROPDOWN",e;var l})(),a=(()=>{return(l=a||(a={})).TEXT="text",l.EMAIL="email",l.TEL="tel",l.PASSWORD="password",l.COLOR="color",l.NUMBER="number",l.SEARCH="search",l.URL="url",a;var l})()},4193:(T,F,p)=>{function y(r,c){let m=c;const d=r.split("."),h=d.length;for(let _=0;_<h-1;_++){let u=d[_];if(!m[u])return null;m=m[u]}return m[d[h-1]]}p.d(F,{NL:()=>y})},5687:(T,F,p)=>{function a(l){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(l.value)||/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))/.test(l.value)?null:{ipadress:!0}}p.d(F,{c:()=>a})}}]);