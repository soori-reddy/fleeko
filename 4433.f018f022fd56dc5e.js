"use strict";(self.webpackChunksolidapp=self.webpackChunksolidapp||[]).push([[4433],{4433:(M,h,l)=>{l.r(h),l.d(h,{LoglevelModule:()=>Q,createTranslateLoader:()=>L});var v=l(9808),m=l(520),n=l(3075),i=l(1062),E=l(40),S=l(7006),A=l(3583),T=l(900),u=l(9291),R=l(4971),e=l(5e3),F=l(2329),r=l(2340);let Z=(()=>{class o{constructor(t){this.http=t}getAll(){return this.http.get(`${r.N.apiEndpoint}/config/logsetting`)}save(t){return this.http.post(`${r.N.apiEndpoint}/config/logsetting`,t)}update(t,s){return this.http.put(`${r.N.apiEndpoint}/config/logsetting/${t}`,s)}delete(t){return this.http.delete(`${r.N.apiEndpoint}/config/logsetting/${t}`)}getLogLevels(){return this.http.get(`${r.N.apiEndpoint}/metadata/loglevel`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(m.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();var y=l(5094),x=l(7071),G=l(291),C=l(722),I=l(4763),g=l(7093),p=l(7322),O=l(4107),D=l(508);function N(o,a){if(1&o&&(e.TgZ(0,"mat-option",7),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o){const t=a.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",e.lcZ(2,2,t.display_name)," ")}}function P(o,a){1&o&&(e.TgZ(0,"div"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&o&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"LOGGER.SERVER.ERROR.REQUIRED")," "))}function J(o,a){if(1&o&&(e.TgZ(0,"mat-error"),e.YNc(1,P,3,3,"div",6),e.qZA()),2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",!(null==t.logLeveLForm.controls.server_loglevel.errors||!t.logLeveLForm.controls.server_loglevel.errors.required))}}const U=[{path:"",component:(()=>{class o{constructor(t,s,d,c,$,b){this.permissionService=t,this._service=s,this.store=d,this.translate=c,this.fb=$,this.snackbarService=b,this.appearanceType="outline",this.logLevels=[],this.showSave=!0,this.store.select(R.D6).subscribe(f=>{this.translate.use(f.userPreference.language),this.appearanceType=f.userPreference.appearanceType})}ngOnInit(){this.getAll(),this.getLoglevels(),this.logLeveLForm=this.fb.group({server_loglevel:new n.NI("",[])})}getLoglevels(){this._service.getLogLevels().subscribe(t=>{this.logLevels=t})}getAll(){this._service.getAll().subscribe(t=>{t&&t.length>0?(this.configuation=t[0],this.logLeveLForm.disable(),this.showSave=!1,this.logLeveLForm.patchValue({server_loglevel:parseInt(this.configuation.server_loglevel)})):this.showSave=!0})}save(){this.logLeveLForm.disable(),this._service.save(this.logLeveLForm.value).subscribe({next:t=>{this.configuation=t,this.showSave=!1,this.snackbarService.info(this.translate.instant("LOGGER.SUCCESS.CREATE"))},error:t=>{this.snackbarService.warn(this.translate.instant("LOGGER.ERROR.CREATE")),this.logLeveLForm.enable()}})}update(){this.logLeveLForm.disable(),this._service.update(this.configuation.id,this.logLeveLForm.value).subscribe({next:t=>{this.snackbarService.info(this.translate.instant("LOGGER.SUCCESS.UPDATE"))},error:t=>{this.snackbarService.warn(this.translate.instant("LOGGER.ERROR.UPDATE")),this.logLeveLForm.enable()}})}getPageAction(t){const s=t.toString();"update"===s?this.update():"modify"===s?this.logLeveLForm.enable():"save"===s&&this.save()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(F.$),e.Y36(Z),e.Y36(y.yh),e.Y36(i.sK),e.Y36(n.qu),e.Y36(x.o))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-loglevel"]],decls:13,vars:13,consts:[[3,"title","showSave","selectedId","isDisabled","pageAction"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutGap","10px","fxLayoutAlign","flex-start",3,"formGroup"],["fxFlex","0 1 calc(33.3% - 10px)","fxFlex.lt-md","0 1 calc(50% - 10px)","fxFlex.lt-sm","100%"],[3,"appearance"],["formControlName","server_loglevel","required",""],[3,"value",4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"]],template:function(t,s){1&t&&(e.TgZ(0,"app-page"),e.TgZ(1,"app-page-header",0),e.NdJ("pageAction",function(c){return s.getPageAction(c)}),e.ALo(2,"translate"),e.qZA(),e.TgZ(3,"app-page-body"),e.TgZ(4,"form",1),e.TgZ(5,"div",2),e.TgZ(6,"mat-form-field",3),e.TgZ(7,"mat-label"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"mat-select",4),e.YNc(11,N,3,4,"mat-option",5),e.qZA(),e.YNc(12,J,2,1,"mat-error",6),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(1),e.Q6J("title",e.lcZ(2,9,"LOGGER.PAGE-TITLE"))("showSave",s.showSave&&s.permissionService.hasPermission("LOG-SETTING-UPDATE"))("selectedId",s.permissionService.hasPermission("LOG-SETTING-UPDATE")?null==s.configuation?null:s.configuation.id:null)("isDisabled",s.logLeveLForm.invalid),e.xp6(3),e.Q6J("formGroup",s.logLeveLForm),e.xp6(2),e.Q6J("appearance",s.appearanceType),e.xp6(2),e.Oqu(e.lcZ(9,11,"LOGGER.SERVER.TITLE")),e.xp6(3),e.Q6J("ngForOf",s.logLevels),e.xp6(1),e.Q6J("ngIf",!!s.logLeveLForm.controls.server_loglevel.invalid&&!!s.logLeveLForm.controls.server_loglevel.touched))},directives:[G.I,C.q,I.H,n._Y,n.JL,g.xw,g.SQ,g.Wh,n.sg,g.yH,p.KE,p.hX,O.gD,n.JJ,n.u,n.Q7,v.sg,v.O5,D.ey,p.TO],pipes:[i.X$],styles:[""]}),o})(),data:{permission_code:"IP-ADDRESS-CREATE||IP-ADDRESS||IP-ADDRESS-UPDATE"}}];let Y=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[u.Bz.forChild(U)],u.Bz]}),o})();function L(o){return new E.w(o,"assets/i18n/",".json")}let Q=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[[v.ez,Y,S.q,n.u5,n.UX,i.aw.forChild({loader:{provide:i.Zw,useFactory:L,deps:[m.eN]},isolate:!0}),n.UX,n.u5,T.m,A._]]}),o})()}}]);