"use strict";(self.webpackChunksolidapp=self.webpackChunksolidapp||[]).push([[6206],{6206:(x,l,n)=>{n.r(l),n.d(l,{IpAddressModule:()=>sr,createTranslateLoader:()=>S});var A=n(9808),c=n(520),t=n(3075),s=n(1062),i=n(40),R=n(7006),T=n(3583),Z=n(900),I=n(9291),d=n(5687),E=n(4971),r=n(5e3),F=n(2329),m=n(2340);let h=(()=>{class e{constructor(o){this.http=o}getAll(){return this.http.get(`${m.N.apiEndpoint}/config/ipaddress`)}save(o){return this.http.post(`${m.N.apiEndpoint}/config/ipaddress`,o)}update(o,a){return this.http.put(`${m.N.apiEndpoint}/config/ipaddress/${o}`,a)}delete(o){return this.http.delete(`${m.N.apiEndpoint}/config/ipaddress/${o}`)}}return e.\u0275fac=function(o){return new(o||e)(r.LFG(c.eN))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var y=n(5094),P=n(7071),q=n(291),D=n(722),N=n(4763),u=n(7093),f=n(7322),C=n(7531),Y=n(4107),U=n(508);function O(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.PRIMARY-IP.ERROR.REQUIRED")," "))}function Q(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.PRIMARY-IP.ERROR.INVALID")," "))}function L(e,p){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,O,3,3,"div",5),r.YNc(2,Q,3,3,"div",5),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.primary_ip.errors||!o.appServerForm.controls.primary_ip.errors.required)),r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.primary_ip.errors||!o.appServerForm.controls.primary_ip.errors.ipadress))}}function J(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.SECONDARY-IP.ERROR.REQUIRED")," "))}function w(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.SECONDARY-IP.ERROR.INVALID")," "))}function b(e,p){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,J,3,3,"div",5),r.YNc(2,w,3,3,"div",5),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.secondary_ip.errors||!o.appServerForm.controls.secondary_ip.errors.required)),r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.secondary_ip.errors||!o.appServerForm.controls.secondary_ip.errors.ipadress))}}function M(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.SUBNET-MASK.ERROR.REQUIRED")," "))}function j(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.SUBNET-MASK.ERROR.INVALID")," "))}function X(e,p){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,M,3,3,"div",5),r.YNc(2,j,3,3,"div",5),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.subnetmask.errors||!o.appServerForm.controls.subnetmask.errors.required)),r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.subnetmask.errors||!o.appServerForm.controls.subnetmask.errors.ipadress))}}function G(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.GATEWAY.ERROR.REQUIRED")," "))}function $(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.GATEWAY.ERROR.INVALID")," "))}function V(e,p){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,G,3,3,"div",5),r.YNc(2,$,3,3,"div",5),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.default_gateway.errors||!o.appServerForm.controls.default_gateway.errors.required)),r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.default_gateway.errors||!o.appServerForm.controls.default_gateway.errors.ipadress))}}function B(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.PROXY-REQUIRED.ERROR.REQUIRED")," "))}function k(e,p){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,B,3,3,"div",5),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.proxy_required.errors||!o.appServerForm.controls.proxy_required.errors.required))}}function K(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.PROXY-IP.ERROR.REQUIRED")," "))}function z(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.PROXY-IP.ERROR.INVALID")," "))}function W(e,p){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,K,3,3,"div",5),r.YNc(2,z,3,3,"div",5),r.qZA()),2&e){const o=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.proxy_ip.errors||!o.appServerForm.controls.proxy_ip.errors.required)),r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.proxy_ip.errors||!o.appServerForm.controls.proxy_ip.errors.ipadress))}}function H(e,p){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"mat-form-field",3),r.TgZ(2,"mat-label"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._UZ(5,"input",12),r.YNc(6,W,3,2,"mat-error",5),r.qZA(),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("appearance",o.appearanceType),r.xp6(2),r.Oqu(r.lcZ(4,3,"IPADRESS.PROXY-IP.TITLE")),r.xp6(3),r.Q6J("ngIf",!!o.appServerForm.controls.proxy_ip.invalid&&!!o.appServerForm.controls.proxy_ip.touched)}}function rr(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.PROXY-PORT.ERROR.REQUIRED")," "))}function er(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.PROXY-PORT.ERROR.MIN")," "))}function or(e,p){1&e&&(r.TgZ(0,"div"),r._uU(1),r.ALo(2,"translate"),r.qZA()),2&e&&(r.xp6(1),r.hij(" ",r.lcZ(2,1,"IPADRESS.PROXY-PORT.ERROR.MAX")," "))}function tr(e,p){if(1&e&&(r.TgZ(0,"mat-error"),r.YNc(1,rr,3,3,"div",5),r.YNc(2,er,3,3,"div",5),r.YNc(3,or,3,3,"div",5),r.qZA()),2&e){const o=r.oxw(2);r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.proxy_port.errors||!o.appServerForm.controls.proxy_port.errors.required)),r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.proxy_port.errors||!o.appServerForm.controls.proxy_port.errors.min)),r.xp6(1),r.Q6J("ngIf",!(null==o.appServerForm.controls.proxy_port.errors||!o.appServerForm.controls.proxy_port.errors.max))}}function ar(e,p){if(1&e&&(r.TgZ(0,"div",2),r.TgZ(1,"mat-form-field",3),r.TgZ(2,"mat-label"),r._uU(3),r.ALo(4,"translate"),r.qZA(),r._UZ(5,"input",13),r.YNc(6,tr,4,3,"mat-error",5),r.qZA(),r.qZA()),2&e){const o=r.oxw();r.xp6(1),r.Q6J("appearance",o.appearanceType),r.xp6(2),r.Oqu(r.lcZ(4,3,"IPADRESS.PROXY-PORT.TITLE")),r.xp6(3),r.Q6J("ngIf",!!o.appServerForm.controls.proxy_port.invalid&&!!o.appServerForm.controls.proxy_port.touched)}}const pr=[{path:"",component:(()=>{class e{constructor(o,a,_,v,ir,dr){this.permissionService=o,this._service=a,this.store=_,this.translate=v,this.fb=ir,this.snackbarService=dr,this.appearanceType="outline",this.showSave=!0,this.store.select(E.D6).subscribe(g=>{this.translate.use(g.userPreference.language),this.appearanceType=g.userPreference.appearanceType})}ngOnInit(){this.appServerForm=this.fb.group({primary_ip:new t.NI("",[t.kI.required,d.c]),secondary_ip:new t.NI("",[t.kI.required,d.c]),subnetmask:new t.NI("",[t.kI.required,d.c]),default_gateway:new t.NI("",[t.kI.required,d.c]),proxy_required:new t.NI("",[]),proxy_ip:new t.NI("",[t.kI.required,d.c]),proxy_port:new t.NI("",[t.kI.required,t.kI.max(65535),t.kI.min(0)])}),this.getAll()}getAll(){this._service.getAll().subscribe(o=>{o&&o.length>0?(this.configuation=o[0],this.appServerForm.disable(),this.showSave=!1,this.appServerForm.patchValue({primary_ip:this.configuation.primary_ip,secondary_ip:this.configuation.secondary_ip,subnetmask:this.configuation.subnetmask,default_gateway:this.configuation.default_gateway,proxy_required:this.configuation.proxy_required,proxy_ip:this.configuation.proxy_ip,proxy_port:this.configuation.proxy_port})):this.showSave=!0})}save(){this.appServerForm.disable(),this._service.save(this.appServerForm.value).subscribe({next:o=>{this.configuation=o,this.showSave=!1,this.snackbarService.info(this.translate.instant("IPADRESS.SUCCESS.CREATE"))},error:o=>{this.snackbarService.warn(this.translate.instant("IPADRESS.ERROR.CREATE")),this.appServerForm.enable()}})}update(){this.appServerForm.disable(),this._service.update(this.configuation.id,this.appServerForm.value).subscribe({next:o=>{this.snackbarService.info(this.translate.instant("IPADRESS.SUCCESS.UPDATE"))},error:o=>{this.snackbarService.warn(this.translate.instant("IPADRESS.ERROR.UPDATE")),this.appServerForm.enable()}})}getPageAction(o){const a=o.toString();"update"===a?this.update():"modify"===a?this.appServerForm.enable():"save"===a&&this.save()}}return e.\u0275fac=function(o){return new(o||e)(r.Y36(F.$),r.Y36(h),r.Y36(y.yh),r.Y36(s.sK),r.Y36(t.qu),r.Y36(P.o))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-ipaddress"]],decls:48,vars:42,consts:[[3,"title","showSave","selectedId","isDisabled","pageAction"],["fxLayout","row wrap","fxLayout.lt-sm","column","fxLayoutGap","10px","fxLayoutAlign","flex-start",3,"formGroup"],["fxFlex","0 1 calc(33.3% - 10px)","fxFlex.lt-md","0 1 calc(50% - 10px)","fxFlex.lt-sm","100%"],[3,"appearance"],["formControlName","primary_ip","matInput","","required",""],[4,"ngIf"],["formControlName","secondary_ip","matInput","","required",""],["formControlName","subnetmask","matInput","","required",""],["formControlName","default_gateway","matInput","","required",""],["formControlName","proxy_required","required",""],[3,"value"],["fxFlex","0 1 calc(33.3% - 10px)","fxFlex.lt-md","0 1 calc(50% - 10px)","fxFlex.lt-sm","100%",4,"ngIf"],["formControlName","proxy_ip","matInput","","required",""],["type","number","min","0","max","65535","formControlName","proxy_port","matInput","","required",""]],template:function(o,a){1&o&&(r.TgZ(0,"app-page"),r.TgZ(1,"app-page-header",0),r.NdJ("pageAction",function(v){return a.getPageAction(v)}),r.ALo(2,"translate"),r.qZA(),r.TgZ(3,"app-page-body"),r.TgZ(4,"form",1),r.TgZ(5,"div",2),r.TgZ(6,"mat-form-field",3),r.TgZ(7,"mat-label"),r._uU(8),r.ALo(9,"translate"),r.qZA(),r._UZ(10,"input",4),r.YNc(11,L,3,2,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(12,"div",2),r.TgZ(13,"mat-form-field",3),r.TgZ(14,"mat-label"),r._uU(15),r.ALo(16,"translate"),r.qZA(),r._UZ(17,"input",6),r.YNc(18,b,3,2,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(19,"div",2),r.TgZ(20,"mat-form-field",3),r.TgZ(21,"mat-label"),r._uU(22),r.ALo(23,"translate"),r.qZA(),r._UZ(24,"input",7),r.YNc(25,X,3,2,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(26,"div",2),r.TgZ(27,"mat-form-field",3),r.TgZ(28,"mat-label"),r._uU(29),r.ALo(30,"translate"),r.qZA(),r._UZ(31,"input",8),r.YNc(32,V,3,2,"mat-error",5),r.qZA(),r.qZA(),r.TgZ(33,"div",2),r.TgZ(34,"mat-form-field",3),r.TgZ(35,"mat-label"),r._uU(36),r.ALo(37,"translate"),r.qZA(),r.TgZ(38,"mat-select",9),r.TgZ(39,"mat-option",10),r._uU(40),r.ALo(41,"translate"),r.qZA(),r.TgZ(42,"mat-option",10),r._uU(43),r.ALo(44,"translate"),r.qZA(),r.qZA(),r.YNc(45,k,2,1,"mat-error",5),r.qZA(),r.qZA(),r.YNc(46,H,7,5,"div",11),r.YNc(47,ar,7,5,"div",11),r.qZA(),r.qZA(),r.qZA()),2&o&&(r.xp6(1),r.Q6J("title",r.lcZ(2,26,"IPADRESS.PAGE-TITLE"))("showSave",a.showSave&&a.permissionService.hasPermission("IP-ADDRESS-CREATE"))("selectedId",a.permissionService.hasPermission("IP-ADDRESS-UPDATE")?null==a.configuation?null:a.configuation.id:null)("isDisabled",a.appServerForm.invalid),r.xp6(3),r.Q6J("formGroup",a.appServerForm),r.xp6(2),r.Q6J("appearance",a.appearanceType),r.xp6(2),r.Oqu(r.lcZ(9,28,"IPADRESS.PRIMARY-IP.TITLE")),r.xp6(3),r.Q6J("ngIf",!!a.appServerForm.controls.primary_ip.invalid&&!!a.appServerForm.controls.primary_ip.touched),r.xp6(2),r.Q6J("appearance",a.appearanceType),r.xp6(2),r.Oqu(r.lcZ(16,30,"IPADRESS.SECONDARY-IP.TITLE")),r.xp6(3),r.Q6J("ngIf",!!a.appServerForm.controls.secondary_ip.invalid&&!!a.appServerForm.controls.secondary_ip.touched),r.xp6(2),r.Q6J("appearance",a.appearanceType),r.xp6(2),r.Oqu(r.lcZ(23,32,"IPADRESS.SUBNET-MASK.TITLE")),r.xp6(3),r.Q6J("ngIf",!!a.appServerForm.controls.subnetmask.invalid&&!!a.appServerForm.controls.subnetmask.touched),r.xp6(2),r.Q6J("appearance",a.appearanceType),r.xp6(2),r.Oqu(r.lcZ(30,34,"IPADRESS.GATEWAY.TITLE")),r.xp6(3),r.Q6J("ngIf",!!a.appServerForm.controls.default_gateway.invalid&&!!a.appServerForm.controls.default_gateway.touched),r.xp6(2),r.Q6J("appearance",a.appearanceType),r.xp6(2),r.Oqu(r.lcZ(37,36,"IPADRESS.PROXY-REQUIRED.TITLE")),r.xp6(3),r.Q6J("value",!0),r.xp6(1),r.hij(" ",r.lcZ(41,38,"SETTINGS.METADATA.COMMON.YES"),""),r.xp6(2),r.Q6J("value",!1),r.xp6(1),r.hij(" ",r.lcZ(44,40,"SETTINGS.METADATA.COMMON.NO")," "),r.xp6(2),r.Q6J("ngIf",!!a.appServerForm.controls.proxy_required.invalid&&!!a.appServerForm.controls.proxy_required.touched),r.xp6(1),r.Q6J("ngIf",a.appServerForm.get("proxy_required").value),r.xp6(1),r.Q6J("ngIf",a.appServerForm.get("proxy_required").value))},directives:[q.I,D.q,N.H,t._Y,t.JL,u.xw,u.SQ,u.Wh,t.sg,u.yH,f.KE,f.hX,t.Fj,C.Nt,t.JJ,t.u,t.Q7,A.O5,Y.gD,U.ey,f.TO,t.qQ,t.Fd,t.wV],pipes:[s.X$],styles:[""]}),e})(),data:{permission_code:"IP-ADDRESS-CREATE||IP-ADDRESS||IP-ADDRESS-UPDATE"}}];let nr=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[I.Bz.forChild(pr)],I.Bz]}),e})();function S(e){return new i.w(e,"assets/i18n/",".json")}let sr=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[A.ez,nr,R.q,t.u5,t.UX,s.aw.forChild({loader:{provide:s.Zw,useFactory:S,deps:[c.eN]},isolate:!0}),t.UX,t.u5,Z.m,T._]]}),e})()},5687:(x,l,n)=>{function c(t){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t.value)||/((^\s*((([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5]))\s*$)|(^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$))/.test(t.value)?null:{ipadress:!0}}n.d(l,{c:()=>c})}}]);